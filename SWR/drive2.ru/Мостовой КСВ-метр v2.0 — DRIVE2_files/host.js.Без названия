!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://yastatic.net/safeframe-bundles/",t(t.s=35)}([function(e,t,o){"use strict";function n(e,t,o){e.setAttribute(t,o)}function r(e,t){return e.getAttribute(t)}function i(e,t){e.style.cssText=t}function s(e,t){e.appendChild(t)}function a(e){var t=p(e);t&&t.removeChild(e)}function u(e,t,o,n){void 0===n&&(n=!1),e.addEventListener?e.addEventListener(t,o,n):e.attachEvent("on"+t,o)}function c(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent("on"+t,o)}function d(e){return e.contentWindow}function f(e){return window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle}function l(e){return e.getBoundingClientRect()}function p(e){return e&&(e.parentNode||e.parentElement)||null}function h(e){if(e){var t=!/\{[^\}]*}/g.test(e),o=void 0;t?(o=document.createElement("link"),o.type="text/css",o.rel="stylesheet",o.href=e):(o=document.createElement("style"),o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)));document.getElementsByTagName("head")[0].appendChild(o)}}t.__esModule=!0,t.setAttr=n,t.getAttr=r,t.setStyle=i,t.appendChild=s,t.removeFromDocument=a,t.addEventListener=u,t.removeEventListener=c,t.getIframeWindow=d,t.getCurrentStyle=f,t.getRect=l,t.parent=p,t.createStyleSheet=h},function(e,t,o){"use strict";function n(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r(e,t){if(e)for(var o in e)e.hasOwnProperty(o)&&t(o,e[o])}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o={},n=function(e,t){o[e]=t},i=0,s=e;i<s.length;i++){r(s[i],n)}return o}function s(e){return i(e)}function a(e){l++;var t=(new Date).getTime(),o=Math.round(100*Math.random());return[e||"","_",t,"_",o,"_",l].join("")}function u(e){var t=[];return r(e,function(e,o){var n="number"==typeof o?o+"px":o;t.push(e+":"+n)}),0===t.length?"":t.join(";")+";"}function c(e){return 0===e.length?"":f.reduce(e,function(e,t){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")})}function d(){var e=navigator.plugins;if(e.length>0)for(var t=0;t<e.length;t++)if(-1!==e[t].name.toLowerCase().indexOf("flash")){var o=/\d+\.\d+/.exec(e[t].description);if(o)return parseFloat(o[0])}return 0}t.__esModule=!0;var f=o(11);t.trim=n,t.forEachProp=r,t.merge=i,t.shallowCopy=s;var l=0;t.guid=a,t.toCssString=u,t.concatPath=c,t.getFlashVersion=d},function(e,t,o){"use strict";function n(){}function r(e){if(void 0===e&&(e={}),!_){if(v.status.getStatus())return p.logError("Cannot update Config while system is busy"),null;_=h.merge(w,e),_.positions={},e.positions&&h.forEachProp(e.positions,function(e,t){_.positions[e]=m.PosConfig(h.merge(t,{id:e}))}),_.auto&&g.boot()}return null===_?null:h.shallowCopy(_)}function i(){return null!==_}function s(e){i()&&(_.positions[e.id]=e)}function a(e){return i()&&_.positions[e]?_.positions[e]:null}function u(e){if(void 0===e&&(e={}),i()){var t=h.concatPath([_.cdn,_.root,_.version,e["protected"]?"protected":"",_.renderFile]);return t}return null}function c(e){i()&&_.onStartPosRender(e)}function d(e){i()&&_.onEndPosRender(e)}function f(e){i()&&_.onFailure(e)}function l(){_=null}t.__esModule=!0;var p=o(3),h=o(1),g=o(12),m=o(13),v=o(4),y={cdn:"//yastatic.net",root:"/safeframe-bundles/0.26",renderFile:"render.html",renderFileAdb:"render_adb.html"},w={root:y.root,cdn:y.cdn,renderFile:y.renderFile,debug:!1,auto:!0,to:6e4,onBeforePosMsg:n,onPosMsg:n,onStartPosRender:n,onEndPosRender:n,onFailure:n,version:"1-1-0"},_=null;t.Config=r,t.isConfigReady=i,t.addPosConfig=s,t.findPosConfig=a,t.getRenderFileURL=u,t.notifyBeforePosMsg=function(e,t,o){return!!i()&&_.onBeforePosMsg(e,t,o)},t.notifyPosMsg=function(e,t,o){i()&&_.onPosMsg(e,t,o)},t.notifyStartPosRender=c,t.notifyEndPosRender=d,t.notifyFailure=f,t.resetConfig=l},function(e,t,o){"use strict";function n(e){window.console&&window.console.log&&window.console.log("[SafeFrame info] "+e)}function r(e){window.console&&window.console.error?window.console.error("[SafeFrame error] "+e):n("[SafeFrame error] "+e);var t=window;t.$sf&&t.$sf.info&&t.$sf.info.errs&&t.$sf.info.errs.push&&t.$sf.info.errs.push(e)}t.__esModule=!0,t.logInfo=n,t.logError=r},function(e,t,o){"use strict";t.__esModule=!0;var n=o(1),r=o(2),i=function(){function e(){this.reset()}return e.prototype.setPositionReady=function(e){this.positions[e.id]=e,this.busyStatuses[e.id]="ready"},e.prototype.setPositionLoading=function(e,t,o){this.busyStatuses[e]="loading",this.iframes[e]=t,this.loadingTimeoutIds[e]=o,r.notifyStartPosRender(e)},e.prototype.setPositionLoaded=function(e){clearTimeout(this.loadingTimeoutIds[e]),delete this.busyStatuses[e],delete this.loadingTimeoutIds[e],r.notifyEndPosRender(e)},e.prototype.setPositionExpanding=function(e){this.busyStatuses[e]="expanding"},e.prototype.setPositionExpanded=function(e){this.busyStatuses[e]="expanded"},e.prototype.setPositionCollapsing=function(e){this.busyStatuses[e]="collapsing"},e.prototype.setPositionCollapsed=function(e){delete this.busyStatuses[e]},e.prototype.setPositionError=function(e){clearTimeout(this.loadingTimeoutIds[e]),this.busyStatuses[e]="error",delete this.iframes[e],r.notifyFailure(e)},e.prototype.setPositionNuked=function(e){clearTimeout(this.loadingTimeoutIds[e]),delete this.positions[e],delete this.iframes[e],delete this.busyStatuses[e],delete this.loadingTimeoutIds[e]},e.prototype.getPositionStatus=function(e){return{busy:this.busyStatuses[e]||null,iframe:this.iframes[e]||null}},e.prototype.getPositionsReadyForRender=function(){var e=this,t=[];return n.forEachProp(this.busyStatuses,function(o,n){"ready"===n&&t.push(e.positions[o])}),t},e.prototype.getRenderedPositions=function(){var e=this,t=[];return n.forEachProp(this.positions,function(o){"ready"!==e.busyStatuses[o]&&t.push(o)}),t},e.prototype.getStatus=function(e){var t=!1;return n.forEachProp(this.busyStatuses,function(o,n){t=!0,e&&(e[o]=n)}),t},e.prototype.getPosition=function(e){return this.positions[e]||null},e.prototype.reset=function(){this.busyStatuses={},this.iframes={},this.loadingTimeoutIds={},this.positions={}},e}();t.status=new i},function(e,t,o){"use strict";t.__esModule=!0;var n=o(9),r=o(0),i=function(){function e(){var e=this;this.iframes=[],this.guids=[],this.callbacks=[],r.addEventListener(window,"message",function(t){e.handleMessage(t)})}return e.prototype.register=function(e,t,o){this.iframes.push(e),this.guids.push(t),this.callbacks.push(o)},e.prototype.unregister=function(e){var t=n.indexOf(this.iframes,e);-1!==t&&(this.iframes.splice(t,1),this.guids.splice(t,1),this.callbacks.splice(t,1))},e.prototype.send=function(e,t){var o=n.indexOf(this.iframes,e);if(-1!==o){var i=this.guids[o],s=void 0;try{s=JSON.stringify({guid:i,payload:t})}catch(u){}if(!s)return;var a=r.getIframeWindow(e);a&&a.postMessage(s,"*")}},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e.data)}catch(a){}if(t&&t.guid){var o=n.indexOf(this.guids,t.guid);if(-1!==o){var i=this.iframes[o],s=this.callbacks[o];r.getIframeWindow(i)===e.source&&s(t.payload)}}},e}();t.postMessages=new i},function(e,t,o){"use strict";function n(){return"complete"===document.readyState||"interactive"===document.readyState&&!document.documentElement.doScroll}function r(e){n()?setTimeout(e):a.push(e)}function i(){s.removeEventListener(document,"DOMContentLoaded",i),s.removeEventListener(window,"load",i);for(var e=0,t=a;e<t.length;e++){(0,t[e])()}a=[]}t.__esModule=!0;var s=o(0),a=[];t.onDocumentReady=r,n()||(s.addEventListener(document,"DOMContentLoaded",i),s.addEventListener(window,"load",i))},function(e,t,o){"use strict";function n(e){var t={};return i.forEachProp(e,function(e,o){var n=typeof o;"number"!==n&&"string"!==n&&"boolean"!==n||(t[e]=o)}),t}function r(e){return e&&e.sharedData&&"string"==typeof e.ownerKey&&e.privateData?new s(e.sharedData,e.ownerKey,e.privateData):null}t.__esModule=!0;var i=o(1);t.createPosMeta=r;var s=function(){function e(e,t,o){this.sharedData=n(e),this.ownerKey=t,this.privateData=n(o)}return e.prototype.value=function(e,t){return e in this.sharedData?this.sharedData[e]:t===this.ownerKey&&e in this.privateData?this.privateData[e]:void 0},e.prototype.getFullMeta=function(){return{sharedData:this.sharedData,ownerKey:this.ownerKey,privateData:this.privateData}},e}();t.PosMeta=s},function(e,t,o){"use strict";t.__esModule=!0,t.forEach=function(e,t,o){for(var n=0;n<e.length;n++)t.call(o,e[n],n,e)}},function(e,t,o){"use strict";t.__esModule=!0,t.indexOf=function(e,t,o){void 0===o&&(o=0);for(var n=o;n<e.length;n++)if(e[n]===t)return n;return-1}},function(e,t,o){"use strict";function n(e){return encodeURIComponent(JSON.stringify(e))}function r(e){try{var t=JSON.parse(decodeURIComponent(e));if(t.id&&t.html&&t.pmGuid)return t}catch(o){}return null}t.__esModule=!0,t.encode=n,t.decode=r},function(e,t,o){"use strict";t.__esModule=!0,t.reduce=function(e,t,o){var n=0;for(arguments.length<3&&(n=1,o=e[0]);n<e.length;n++)o=t(o,e[n],n,e);return o}},function(e,t,o){"use strict";function n(){for(var e=document.getElementsByTagName("script"),t=[],o=0;o<e.length;o++){var n=e[o];n.className!==w&&f.getAttr(n,"type")!==_||-1===d.indexOf(P,n)&&(t.push({parent:f.parent(n),data:p.trim(n.text||n.innerHTML||n.innerText)}),P.push(n))}return h.onDocumentReady(r),t}function r(){for(var e=0,t=P;e<t.length;e++){var o=t[e];f.removeFromDocument(o)}P=[]}function i(e){var t,o=e.data,n=e.parent;try{t=new Function("return "+o)()}catch(s){return l.logError("Error parsing tag configuration "+(s&&s.message||"")),null}if(t&&(t.html||t.src)){t.conf=t.conf||{};var r=g.findPosConfig(t.id);r&&(t.conf=p.merge(r,t.conf)),t.conf.dest=t.conf.dest||p.guid("dest");if(!document.getElementById(t.conf.dest)){var i=document.createElement("div");f.setAttr(i,"id",t.conf.dest),n.appendChild(i)}y.status.setPositionReady(new m.Position(t))}else l.logError("no content found in the inline position object")}function s(){g.isConfigReady()||l.logError("can't boot before config initialized"),c.forEach(n(),i)}function a(e){g.Config(e)}function u(){g.isConfigReady()||l.logError("can't boot before config initialized"),s(),v.render(y.status.getPositionsReadyForRender())}t.__esModule=!0;var c=o(8),d=o(9),f=o(0),l=o(3),p=o(1),h=o(6),g=o(2),m=o(14),v=o(20),y=o(4),w="sf_data",_="text/x-safeframe",P=[];t.grabScripts=s,t.parseInlineConfig=a,t.boot=u},function(e,t,o){"use strict";function n(e,t,o){var n;"object"==typeof e?(n=e,n.dest=n.dest||t):n={id:e};var u,c="100%"===n.w?n.w:Number(n.w)||0,d="100%"===n.h?n.h:Number(n.h)||0;if((!c||!d)&&n.size){var f=n.size.split(/x/gi);c=parseInt(f[0],10)||0,d=parseInt(f[1],10)||0}c&&d?u=c+"x"+d:(c=0,d=0,u="");var l=n.tgt||"_blank";"_self"!==l&&"_parent"!==l||(l="_top");var p={id:n.id||r.guid(s.POS_ID_AUTO_PREFIX),dest:n.dest||"",bg:n.bg||"transparent",css:n.css||"",z:Number(n.z)||0,supports:r.merge(a,n.supports),w:c,h:d,size:u,tgt:l,"protected":!0===n["protected"],basePath:n.basePath||""};return o&&null===i.Config()&&i.Config(o),null!==i.Config()&&i.addPosConfig(p),p}t.__esModule=!0;var r=o(1),i=o(2),s=o(18),a={"exp-ovr":!0,"exp-push":!1,"read-cookie":!1,"write-cookie":!1};t.PosConfig=n},function(e,t,o){"use strict";function n(e){var t=c.Config().version,o=f.isEnabled?"1":"0",n=s.getFlashVersion().toString();return e.replace(/\${sf_ver}/g,t).replace(/\${ck_on}/g,o).replace(/\${flash_ver}/g,n)}function r(e){return["<scr",'ipt type="text/javascript" src="',e,'"></scr',"ipt>"].join("")}t.__esModule=!0;var i=o(3),s=o(1),a=o(7),u=o(37),c=o(2),d=o(18),f=o(15),l=o(13),p=o(19),h=function(){function e(t,o,u,f){if(void 0===t)return void i.logError("posIDorObj is required");if(!c.isConfigReady())return void i.logError("Publisher Config not initialized - abort");if(!(this instanceof e))return new e(t,o,u,f);var h;if(h="object"==typeof t?t:{id:t},h.html=o||h.html,h.meta=u||h.meta,h.conf=f||h.conf,h.id?this.id=h.id:h.conf&&h.conf.id?this.id=h.conf.id:this.id=s.guid(d.POS_ID_AUTO_PREFIX),h.html?this.html=h.html:h.src?this.html=r(n(h.src)):this.html="",this.src="",this.meta=h.meta instanceof a.PosMeta?h.meta:p.fromInlineCode(h.meta),h.conf)h.conf.id=this.id,this.conf=l.PosConfig(h.conf);else{var g=c.findPosConfig(this.id);this.conf=g||l.PosConfig({id:this.id})}}return e.prototype.toString=function(){return u.setObjectToQueryString({id:this.id,meta:this.meta,html:this.html,conf:this.conf,src:this.src})},e}();t.Position=h},function(e,t,o){"use strict";function n(e){var t=i.get(e);return"string"==typeof t?t:null}function r(e,t,o){var n=o||new Date(2100,0);i.set(e,t,{expires:n})}t.__esModule=!0;var i=o(38),s=o(1);t.read=n,t.write=r,t.isEnabled=function(){var e=s.guid("safeframe-test-cookie");i.set(e,"test");var t="test"===i.get(e);return i.expire(e),t}()},function(e,t,o){"use strict";function n(e,t){return{width:e.w,height:e.h,top:0,left:0,position:t?"relative":"absolute"}}function r(e){return{width:e.w,height:e.h,position:"relative"}}function i(e,t,o){var i=n(t),s=r(t);o.t&&("number"==typeof i.height&&(i.height+=o.t),o.push||(i.top=-o.t)),o.l&&("number"==typeof i.width&&(i.width+=o.l),o.push||(i.left=-o.l)),o.b&&"number"==typeof i.height&&(i.height+=o.b),o.r&&"number"==typeof i.width&&(i.width+=o.r),o.push&&(s.width=i.width,s.height=i.height),a.setStyle(e,u.toCssString(i)),a.setStyle(a.parent(e),u.toCssString(s))}function s(e,t){var o=n(t),i=r(t);a.setStyle(e,u.toCssString(o)),a.setStyle(a.parent(e),u.toCssString(i))}t.__esModule=!0;var a=o(0),u=o(1);t.initialIframeStyle=n,t.initialWrapStyle=r,t.expand=i,t.collapse=s},function(e,t,o){"use strict";function n(e){e&&e.iframe&&(d.geomUpdater.unregister(e.iframe),c.focusUpdater.unregister(e.iframe),f.postMessages.unregister(e.iframe),s.removeFromDocument(e.iframe))}function r(e){e&&e.iframe&&s.setStyle(s.parent(e.iframe),"")}function i(e){var t;t=e&&"*"!==e?"string"==typeof e?[e]:e:l.status.getRenderedPositions();for(var o=0,i=t;o<i.length;o++){var s=i[o],c=a.findPosConfig(s);if(c){var d=l.status.getPositionStatus(s);"expanded"===d.busy&&u.collapse(d.iframe,c)}var f=l.status.getPositionStatus(s);r(f),n(f),l.status.setPositionNuked(s)}}t.__esModule=!0;var s=o(0),a=o(2),u=o(16),c=o(21),d=o(23),f=o(5),l=o(4);t.removeIframe=n,t.resetContainerStyles=r,t.nuke=i},function(e,t,o){"use strict";t.__esModule=!0,t.POS_ID_AUTO_PREFIX="sf_pos"},function(e,t,o){"use strict";function n(e,t,o){var n=a.Config();return n&&(e.sf_ver=n.version),e.ck_o=u.isEnabled?1:0,e.flash_ver=i.getFlashVersion(),new s.PosMeta(e,t,o)}function r(e){var t={},o="",r={};return i.forEachProp(e,function(e,n){"object"==typeof n?(o=e,r=n):t[e]=n}),n(t,o,r)}t.__esModule=!0;var i=o(1),s=o(7),a=o(2),u=o(15);t.createPosMeta=n,t.fromInlineCode=r},function(e,t,o){"use strict";function n(e,t){var o=document.createElement("iframe");return l.setAttr(o,"frameborder","no"),l.setAttr(o,"scrolling","no"),l.setAttr(o,"allowtransparency","true"),l.setAttr(o,"hidefocus","true"),l.setAttr(o,"tabindex","-1"),l.setAttr(o,"marginwidth","0"),l.setAttr(o,"marginheight","0"),h.forEachProp(e,function(e,t){return l.setAttr(o,e,t)}),l.setStyle(o,t),o}function r(e){b.removeIframe(E.status.getPositionStatus(e)),E.status.setPositionError(e),p.logError('Render timeout of position "'+e+'"')}function i(e){var t=v.Config();return setTimeout(function(){r(e)},1e3*t.to)}function s(e){E.status.setPositionLoaded(e)}function a(e){var t=e.id,o=e.html,r=e.meta,a=v.findPosConfig(e.id);b.nuke(e.id),E.status.setPositionReady(e);var u=a.w,c=a.h,d=document.getElementById(a.dest);if(!d)return void p.logError('Dest container for "'+t+'" no found. Render aborted.');var f=!1;if(!u||!c){var m=l.getRect(d);u=u||m.right-m.left||"100%",c=c||m.bottom-m.top||"100%",a.w=u,a.h=c,f="100%"===u||"100%"===c}l.setStyle(d,h.toCssString(y.initialWrapStyle(a)));var C={id:t,html:o,pmGuid:h.guid(),geom:_.getGeom(d),hasFocus:"function"!=typeof document.hasFocus||document.hasFocus(),supports:a.supports,css:a.css,bg:a.bg,posMeta:r.getFullMeta(),target:a.tgt,basePath:a.basePath},S={name:g.encode(C),src:v.getRenderFileURL({"protected":a["protected"]}),width:u,height:c};a["protected"]&&(S.sandbox="allow-same-origin allow-popups allow-scripts allow-forms");var k=n(S,h.toCssString(y.initialIframeStyle(a,f)));l.addEventListener(k,"load",function(){return s(t)}),x.postMessages.register(k,C.pmGuid,function(e){return M.messageDispatcher(t,k,e)}),P.geomUpdater.register(k),w.focusUpdater.register(k),l.appendChild(d,k);var R=i(t);E.status.setPositionLoading(t,k,R)}function u(e){if(!v.isConfigReady())return void p.logError("Render called before Config was initialized");m.onDocumentReady(function(){var t=d.isArray(e)?e:[e],o=f.map(t,function(e){return e instanceof C.Position?e:new C.Position(e)});c.forEach(o,a)})}t.__esModule=!0;var c=o(8),d=o(39),f=o(40),l=o(0),p=o(3),h=o(1),g=o(10),m=o(6),v=o(2),y=o(16),w=o(21),_=o(22),P=o(23),M=o(41),b=o(17),C=o(14),x=o(5),E=o(4);t.createIframe=n,t.render=u},function(e,t,o){"use strict";t.__esModule=!0;var n=o(9),r=o(0),i=o(5),s=function(){function e(){var e=this;this.iframes=[],this.lastReportTime=-Infinity,this.reportScheduled=!1,this.lastReportedValue=null;var t=function(){return e.report()};r.addEventListener(window,"focus",t),r.addEventListener(window,"blur",t)}return e.prototype.register=function(e){this.iframes.push(e)},e.prototype.unregister=function(e){var t=n.indexOf(this.iframes,e);-1!==t&&this.iframes.splice(t,1)},e.prototype.report=function(){if(0!==this.iframes.length){for(var e=document.hasFocus(),t=0,o=this.iframes;t<o.length;t++){var n=o[t];i.postMessages.send(n,{type:"focus-updated",hasFocus:e})}this.lastReportTime=(new Date).getTime()}},e}();t.FocusUpdater=s,t.focusUpdater=new s},function(e,t,o){"use strict";function n(){var e=window.innerWidth,t=window.innerHeight,o=window.screenY||0,n=window.screenX||0;return{t:Math.round(o),l:Math.round(n),w:Math.round(e),h:Math.round(t),b:Math.round(o+t),r:Math.round(n+e)}}function r(e,t){var o=a.getRect(e),n=o.right-o.left,r=o.bottom-o.top,i={l:Math.max(o.left,0),r:Math.min(o.right,t.w),t:Math.max(o.top,0),b:Math.min(o.bottom,t.h)},s={w:Math.max(i.r-i.l,0),h:Math.max(i.b-i.t,0)};return{t:Math.round(o.top),l:Math.round(o.left),b:Math.round(o.bottom),r:Math.round(o.right),w:Math.round(n),h:Math.round(r),xiv:s.w/n,yiv:s.h/r,iv:s.w*s.h/(n*r),z:Number(a.getCurrentStyle(e).zIndex)||0}}function i(e,t){return{t:Math.max(0,t.t),l:Math.max(0,t.l),r:Math.max(0,e.w-t.l-t.w),b:Math.max(0,e.h-t.t-t.h),xs:0,ys:0}}function s(e){var t=n(),o=r(e,t);return{win:t,self:o,exp:i(t,o)}}t.__esModule=!0;var a=o(0);t.windowRect=n,t.selfRect=r,t.expansion=i,t.getGeom=s},function(e,t,o){"use strict";t.__esModule=!0;var n=o(9),r=o(0),i=o(22),s=o(5),a=function(){function e(){var e=this;this.iframes=[],this.lastRecalcTime=-Infinity,this.recalcScheduled=!1;var t=function(){return e.handlePotentialChange()};r.addEventListener(window,"scroll",t,{passive:!0}),r.addEventListener(window,"resize",t,{passive:!0})}return e.prototype.register=function(e){this.iframes.push(e)},e.prototype.unregister=function(e){var t=n.indexOf(this.iframes,e);-1!==t&&this.iframes.splice(t,1)},e.prototype.recalc=function(){if(0!==this.iframes.length){for(var e=0,t=this.iframes;e<t.length;e++){var o=t[e],n=r.parent(o);n&&s.postMessages.send(o,{type:"geom-updated",geom:i.getGeom(n)})}this.lastRecalcTime=(new Date).getTime(),this.recalcScheduled=!1}},e.prototype.handlePotentialChange=function(){var e=this;if(!this.recalcScheduled){var t=(new Date).getTime()-this.lastRecalcTime;t>=250?this.recalc():(setTimeout(function(){return e.recalc()},250-t),this.recalcScheduled=!0)}},e}();t.GeomUpdater=a,t.geomUpdater=new a},,,,,,,,,,,,function(e,t,o){"use strict";t.__esModule=!0;var n=o(1),r=o(36),i=o(12),s=window;s.$sf=s.$sf||{},s.$sf.info={errs:[]},s.$sf.host=n.merge(s.$sf.host||{},r.host),s.$sf.host.conf&&(i.parseInlineConfig(s.$sf.host.conf),delete s.$sf.host.conf)},function(e,t,o){"use strict";t.__esModule=!0;var n=o(12),r=o(2),i=o(17),s=o(13),a=o(14),u=o(19),c=o(20),d=o(4);t.host={render:c.render,nuke:i.nuke,Config:r.Config,PosConfig:s.PosConfig,PosMeta:u.createPosMeta,Position:a.Position,boot:n.boot,status:function(e){return d.status.getStatus(e)},get:function(e){return d.status.getPosition(e)}}},function(e,t,o){"use strict";function n(e){return r(e)}function r(e,t){var o=[];return s.forEachProp(e,function(e,n){var s,a=t?t+"["+e+"]":e;(s="object"==typeof n||Array.isArray(n)?r(n,a):i(a,n))&&o.push(s)}),o.join("&")}function i(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}t.__esModule=!0;var s=o(1);t.setObjectToQueryString=n},function(e,t,o){var n;!function(r,i){"use strict";var s=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,o,n){return 1===arguments.length?t.get(e):t.set(e,o,n)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var o=t._cache[t._cacheKeyPrefix+e];return void 0===o?void 0:decodeURIComponent(o)},t.set=function(e,o,n){return n=t._getExtendedOptions(n),n.expires=t._getExpiresDate(void 0===o?-1:n.expires),t._document.cookie=t._generateCookieString(e,o,n),t},t.expire=function(e,o){return t.set(e,void 0,o)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,o){if(o=o||new Date,"number"==typeof e?e=e===Infinity?t._maxExpireDate:new Date(o.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,o){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),o=o||{};var n=e+"="+t;return n+=o.path?";path="+o.path:"",n+=o.domain?";domain="+o.domain:"",n+=o.expires?";expires="+o.expires.toUTCString():"",n+=o.secure?";secure":""},t._getCacheFromString=function(e){for(var o={},n=e?e.split("; "):[],r=0;r<n.length;r++){var i=t._getKeyValuePairFromCookieString(n[r]);void 0===o[t._cacheKeyPrefix+i.key]&&(o[t._cacheKeyPrefix+i.key]=i.value)}return o},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var o,n=e.substr(0,t);try{o=decodeURIComponent(n)}catch(r){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+n+'"',r)}return{key:o,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},a=r&&"object"==typeof r.document?s(r):s;void 0!==(n=function(){return a}.call(t,o,t,e))&&(e.exports=n)}("undefined"==typeof window?this:window)},function(e,t,o){"use strict";function n(e){return"[object Array]"==={}.toString.call(e)}t.__esModule=!0,t.isArray=n},function(e,t,o){"use strict";t.__esModule=!0,t.map=function(e,t,o){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t.call(o,e[r],r,e);return n}},function(e,t,o){"use strict";function n(e,t,o){if("error"===o.type)for(var n=0,f=o.messages;n<f.length;n++){var l=f[n];i.notifyPosMsg(e,"error",l),r.logError('Error in "'+e+'":\n'+l)}if("expand-request"===o.type){var p=i.findPosConfig(e);if(!p)return void r.logError("Couldn't find config for position \""+e+'" while handling expand request');if(!p.supports[o.dim.push?"exp-push":"exp-ovr"])return r.logError('Expansion not allowed for position "'+e+'"'),void c.postMessages.send(t,{type:"error",causedByMethod:"expand",message:"not allowed"});var h=i.notifyBeforePosMsg(e,"expand",o.dim);if(h)return void c.postMessages.send(t,{type:"error",causedByMethod:"expand",message:"canceled"});d.status.setPositionExpanding(e),a.expand(t,p,o.dim),d.status.setPositionExpanded(e),c.postMessages.send(t,{type:"expanded"}),i.notifyPosMsg(e,"expand",o.dim)}if("collapse-request"===o.type){var p=i.findPosConfig(e);if(!p)return void r.logError("Couldn't find config for position \""+e+'" while handling collapse request');if("expanded"!==d.status.getPositionStatus(e).busy)return r.logError('Collapse impossible, position "'+e+"\" isn't expanded."),void c.postMessages.send(t,{type:"error",causedByMethod:"collapse",message:"not expanded"});var h=i.notifyBeforePosMsg(e,"collapse");if(h)return void c.postMessages.send(t,{type:"error",causedByMethod:"collapse",message:"canceled"});d.status.setPositionCollapsing(e),a.collapse(t,p),d.status.setPositionCollapsed(e),c.postMessages.send(t,{type:"collapsed"}),i.notifyPosMsg(e,"collapse")}if("nuke"===o.type&&(u.nuke(e),i.notifyPosMsg(e,"nuke")),"read-cookie-request"===o.type){var p=i.findPosConfig(e);if(!p)return void r.logError("Couldn't find config for position \""+e+'" while handling read cookie request');if(!p.supports["read-cookie"])return r.logError('Cookies read not allowed for position "'+e+'"'),void c.postMessages.send(t,{type:"error",causedByMethod:"read-cookie",message:"Cookies read not allowed"});var h=i.notifyBeforePosMsg(e,"read-cookie",o.name);if(h)return void c.postMessages.send(t,{type:"error",causedByMethod:"read-cookie",message:"canceled"});var g=s.read(o.name);c.postMessages.send(t,{type:"cookie-read",name:o.name,value:g}),i.notifyPosMsg(e,"read-cookie",o.name)}if("write-cookie-request"===o.type){var m="number"==typeof o.expires?new Date(o.expires):undefined,v={name:o.name,value:o.value,expires:m},p=i.findPosConfig(e);if(!p)return void r.logError("Couldn't find config for position \""+e+'" while handling write cookie request');if(!p.supports["write-cookie"])return r.logError('Cookies write not allowed for position "'+e+'"'),void c.postMessages.send(t,{type:"error",causedByMethod:"write-cookie",message:"Cookies write not allowed"});var h=i.notifyBeforePosMsg(e,"write-cookie",v);if(h)return void c.postMessages.send(t,{type:"error",causedByMethod:"write-cookie",message:"canceled"});s.write(v.name,v.value,v.expires),c.postMessages.send(t,{type:"cookie-written",name:v.name,value:v.value}),i.notifyPosMsg(e,"write-cookie",v)}}t.__esModule=!0;var r=o(3),i=o(2),s=o(15),a=o(16),u=o(17),c=o(5),d=o(4);t.messageDispatcher=n}]);